#용어

- Test Doubles? 대역? 이란
```text
자동화된 테스트를 작성할 경우에 테스트들이 의존성을 가지고 같이 실행되어야 하는 경우가 많이 있는데요.
예를 들어 사용자를 조회하는 로직을 테스트한다고 한다면 UserService 에서 UserRepository, 그리고 DB까지 연결되어있습니다.
UserService만 테스트하고 싶어도 이어지는 연결로 인해 독립적인 테스트가 힘들어집니다.
또한 아직 UserRepository가 구현되지 않은 경우에도 테스트가 힘들어지죠.

이런 경우에 주로 실제 객체가 아닌 단순한 객체를 이용하여 테스트하게 되는데 이를 테스트 더블이라고 합니다.
용어 자체는 제라드 메스자로스(Gerard Meszaros)가 만든 용어로, 
스턴트 더블(영화 촬영에서 말하는 스턴트 대역 배우)에서 아이디어를 얻어서 만든 용어입니다. 
```

- 대역의 종류
  - Stub(스텁)
    - 구현을 단순한 것으로 대체한다. 테스트에 맞게 단순히 원하는 동작을 수향한다.
  - Fake(가짜)
    - 제품에는 적합하지 않지만, 실제 동작하는 구현을 제공한다
    - ex: DB 대신에 Memory 를 이용한..
  - Spy(스파이)
    - 호출된 내역을 기록한다.
    - 기록한 내용은 테스트 결과를 검증할 때 사용한다.
  - Mock(모의)
    - 기대한 대로 상호작용하는지 행위를 검증한다.
    - 기대한 대로 동작하지 않으면 익셉션을 발생할 수 있다.
    - 모의 객체는 스텁이자 스파이도 된다.

---


